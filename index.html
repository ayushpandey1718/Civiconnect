<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Civiconnectüõ†Ô∏è | Urban Hazard Reporter</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style/style.css" />
  
  <!-- Flaticon CSS -->
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/3.0.0/uicons-regular-rounded/css/uicons-regular-rounded.css">

  <!-- EmailJS -->
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("g7IgpA253Pfz3N927");
    })();
  </script>
</head>
<body>
  <!-- Header -->
  <header class="header animate__animated animate__fadeInDown">
    <h1>üöß Civiconnect</h1>
    <p>Your community-powered hazard reporting platform</p>
    <button id="dark-toggle" aria-label="Toggle Dark Mode">üåì</button>
  </header>

  <!-- Main Layout -->
  <main>
    <div class="map-container">
      <div id="map" aria-label="Interactive Map of Urban Hazards"></div>

      <aside id="hazard-list">
        <h3><i class="fi fi-rr-list-check" style="margin-right: 6px;"></i> Recent Reports</h3>
        <div class="filters" role="group" aria-label="Filter Hazards by Status">
          <button id="filter-all" class="active">All</button>
          <button id="filter-reported">Reported</button>
          <button id="filter-fixed">Fixed</button>
        </div>
        <div id="hazard-items" aria-live="polite"></div>
      </aside>
    </div>

    <!-- Hazard Report Form -->
    <section id="report-form" class="form-section">
      <h2><i class="fi fi-rr-document-signed" style="margin-right: 10px;"></i> Submit a Hazard Report</h2>

      <form id="hazard-form" class="form-card">
        <!-- Hazard Info -->
        <select id="hazard-type" required>
          <option value="" disabled selected>Select Hazard Type</option>
          <option value="pothole">Pothole</option>
          <option value="waterlogging">Waterlogging</option>
          <option value="open-manhole">Open Manhole</option>
          <option value="garbage-dump">Garbage Dump</option>
          <option value="accident">Accident</option>
          <option value="flooding">Flooding</option>
          <option value="fallen-tree">Fallen Tree</option>
          <option value="streetlight-issue">Streetlight Issue</option>
          <option value="road-crack">Road Crack</option>
          <option value="illegal-parking">Illegal Parking</option>
        </select>
<div class="location-dropdowns">
  <select id="state-dropdown" required>
    <option value="" disabled selected>üèôÔ∏è Select State / UT</option>
  </select>

  <select id="city-dropdown" required disabled>
    <option value="" disabled selected>üèòÔ∏è Select City</option>
  </select>
</div>



        <input type="text" id="location-input" placeholder="üìç Location" required />
        <textarea id="description-input" placeholder="üìù Description (Optional)"></textarea>

        <!-- Photo Upload -->
        <div class="photo-upload">
          <label for="fileInput">üì∑ Attach Photo (Optional)</label>
          <div class="file-upload-box" id="drop-zone">
            <input type="file" id="fileInput" accept="image/*" hidden />
            <div class="upload-content" onclick="document.getElementById('fileInput').click()">
              <i class="fi fi-rr-add-image" style="font-size: 36px;"></i>
              <p class="upload-title">Browse Files</p>
              <p class="upload-subtext">Drag and drop files here</p>
            </div>
          </div>
        </div>

        <!-- User Info -->
        <input type="text" id="user-name" placeholder="üôã Your Name" required />
        <input type="email" id="user-email" placeholder="üìß Your Email" required />
        <input type="text" id="user-title" placeholder="‚úâÔ∏è Subject / Title" required />

        <!-- Submit Button -->
        <div class="form-buttons">
          <button type="submit" class="btn-primary">
            <i class="fi fi-rr-paper-plane" style="margin-right: 8px;"></i> Submit Report
          </button>

          <div class="right-buttons">
            <button id="locate-me" class="btn-secondary">
              <i class="fi fi-rr-marker" style="margin-right: 8px;"></i> Use My Location
            </button>
            <button id="export-data" class="btn-secondary">
              <i class="fi fi-rr-upload" style="margin-right: 8px;"></i> Export Data
            </button>
          </div>
        </div>
      </form>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
  <div class="footer-content">
    <div class="footer-branding">
      <h3>üöß Civiconnect</h3>

    </div>

    <div class="footer-links">
      <a href="https://github.com/ayushpandey1718/Civiconnect" target="_blank" title="Contribute on GitHub">
        <i class="fi fi-rr-github"></i> GitHub
      </a>
      <a href="#report-form" title="Submit a Hazard Report">
        <i class="fi fi-rr-document-signed"></i> Report a Hazard
      </a>
      <a href="mailto:pandeyayush1718@gmail.com" title="Contact Support">
        <i class="fi fi-rr-envelope"></i> Contact Us
      </a>
    </div>

    <div class="footer-note">
      <p>Made with ‚ù§Ô∏è for <strong>Ayush ke Pyaare People's‚ô•Ô∏è</strong> | ¬© 2025 <span class="brand">Civiconnect</span></p>
    </div>
  </div>
</footer>


  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Heatmap Plugin -->
  <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>

  <!-- App Logic -->
  <script src="scripts/app.js"></script>

  <!-- Dark Mode Toggle Script -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const toggleBtn = document.getElementById("dark-toggle");
      toggleBtn.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
      });
    });
  const indiaStatesCities = {
  "Andhra Pradesh": ["Visakhapatnam", "Vijayawada", "Guntur", "Nellore", "Tirupati", "Kurnool", "Rajahmundry", "Anantapur", "Kakinada", "Ongole", "Chittoor", "Eluru", "Kadapa", "Nandyal", "Machilipatnam", "Srikakulam", "Tenali", "Proddatur", "Amalapuram", "Adoni"],
  
  "Arunachal Pradesh": ["Itanagar", "Tawang", "Ziro", "Pasighat", "Naharlagun", "Bomdila", "Along", "Tezu", "Khonsa", "Seppa", "Namsai", "Roing", "Changlang", "Daporijo", "Harmuti", "Rupa", "Yingkiong", "Basar", "Doimukh", "Kaying"],

  "Assam": ["Guwahati", "Dibrugarh", "Silchar", "Jorhat", "Tezpur", "Nagaon", "Bongaigaon", "Tinsukia", "Goalpara", "Diphu", "Sivasagar", "Margherita", "Dhemaji", "Barpeta", "Rangia", "North Lakhimpur", "Sualkuchi", "Golaghat", "Haflong", "Lumding"],

  "Bihar": ["Patna", "Gaya", "Muzaffarpur", "Bhagalpur", "Purnia", "Darbhanga", "Bihar Sharif", "Arrah", "Begusarai", "Chapra", "Motihari", "Munger", "Siwan", "Katihar", "Saharsa", "Sitamarhi", "Jamalpur", "Nalanda", "Buxar", "Jehanabad"],

  "Chhattisgarh": ["Raipur", "Bilaspur", "Durg", "Bhilai", "Korba", "Jagdalpur", "Rajim", "Ambikapur", "Kanker", "Dhamtari", "Mahasamund", "Sarangarh", "Bhatapara", "Naila Janjgir", "Rajnandgaon", "Khairagarh", "Surajpur", "Kondagaon", "Mungeli", "Dantewada"],

  "Goa": ["Panaji", "Margao", "Vasco da Gama", "Mapusa", "Ponda", "Bicholim", "Curchorem", "Valpoi", "Quepem", "Canacona", "Dharbandora", "Sanguem", "Mormugao", "Sanquelim", "Pernem", "Madgaon", "Porvorim", "Chicalim", "Navelim", "Siolim"],

  "Gujarat": ["Ahmedabad", "Surat", "Vadodara", "Rajkot", "Bhavnagar", "Jamnagar", "Gandhinagar", "Anand", "Nadiad", "Mehsana", "Morbi", "Porbandar", "Patan", "Valsad", "Vapi", "Navsari", "Bharuch", "Godhra", "Junagadh", "Botad"],

  "Haryana": ["Gurgaon", "Faridabad", "Panipat", "Karnal", "Ambala", "Sonipat", "Yamunanagar", "Rohtak", "Hisar", "Bahadurgarh", "Panchkula", "Jhajjar", "Rewari", "Jind", "Kaithal", "Palwal", "Narnaul", "Bhiwani", "Charkhi Dadri", "Kurukshetra"],

  "Himachal Pradesh": ["Shimla", "Manali", "Dharamshala", "Mandi", "Solan", "Hamirpur", "Kullu", "Una", "Chamba", "Bilaspur", "Nahan", "Kangra", "Palampur", "Sundarnagar", "Paonta Sahib", "Kasauli", "Nalagarh", "Barsar", "Rajgarh", "Sirmaur"],

  "Jharkhand": ["Ranchi", "Jamshedpur", "Dhanbad", "Bokaro", "Giridih", "Deoghar", "Hazaribagh", "Dumka", "Ramgarh", "Jharia", "Medininagar", "Chaibasa", "Madhupur", "Bundu", "Barhi", "Jamtara", "Pakur", "Garhwa", "Latehar", "Lohardaga"],

  "Karnataka": ["Bengaluru", "Mysore", "Mangalore", "Hubli", "Belgaum", "Davangere", "Ballari", "Vijayapura", "Shimoga", "Udupi", "Bellary", "Chikkamagaluru", "Hospet", "Bidar", "Raichur", "Kolar", "Mandya", "Tumkur", "Hassan", "Gulbarga"],

  "Kerala": ["Kochi", "Thiruvananthapuram", "Kozhikode", "Alappuzha", "Thrissur", "Kannur", "Palakkad", "Malappuram", "Kollam", "Calicut", "Pathanamthitta", "Wayanad", "Kottayam", "Idukki", "Kasargod", "Ernakulam", "Vatakara", "Nilambur", "Chalakudy", "Thodupuzha"],

  "Madhya Pradesh": ["Bhopal", "Indore", "Gwalior", "Jabalpur", "Ujjain", "Sagar", "Dewas", "Satna", "Rewa", "Ratlam", "Burhanpur", "Vidisha", "Shahdol", "Chhindwara", "Sehore", "Morena", "Khandwa", "Balaghat", "Narsinghpur", "Damoh"],

  "Maharashtra": ["Mumbai", "Pune", "Nagpur", "Nashik", "Thane", "Aurangabad", "Solapur", "Kolhapur", "Amravati", "Nanded", "Jalgaon", "Sangli", "Latur", "Miraj", "Akola", "Dhule", "Ahmednagar", "Chandrapur", "Bhusawal", "Beed"],

  "Manipur": ["Imphal", "Thoubal", "Bishnupur", "Churachandpur", "Ukhrul", "Senapati", "Tamenglong", "Kakching", "Noney", "Jiribam", "Kamjong", "Pherzawl", "Chandel", "Kangpokpi", "Moreh", "Langthabal", "Mayang Imphal", "Yairipok", "Sugnu", "Wangjing"],

  "Meghalaya": ["Shillong", "Tura", "Jowai", "Nongstoin", "Williamnagar", "Nongpoh", "Resubelpara", "Baghmara", "Rongjeng", "Ampati", "Mawkyrwat", "Pynthorumkhrah", "Mendipathar", "Williamnagar", "Mawlynnong", "Dalu", "Sutnga", "Mawkyrwat", "Songsak", "Khasi Hills"],

  "Mizoram": ["Aizawl", "Lunglei", "Champhai", "Serchhip", "Kolasib", "Saiha", "Lawngtlai", "Mamit", "Saitual", "Hnahthial", "Khawzawl", "Tlabung", "Zawlnuam", "Thingsulthliah", "Reiek", "Lengpui", "North Vanlaiphai", "Darlawn", "Biate", "Kawnpui"],

  "Nagaland": ["Kohima", "Dimapur", "Mokokchung", "Tuensang", "Wokha", "Zunheboto", "Phek", "Longleng", "Mon", "Kiphire", "Peren", "Kohima Village", "Chumukedima", "Merapani", "Tseminyu", "Khuzama", "Viswema", "Meluri", "Chizami", "Tsiepf√º Tsiepfhe"],

  "Odisha": ["Bhubaneswar", "Cuttack", "Rourkela", "Berhampur", "Puri", "Sambalpur", "Balasore", "Baripada", "Bhadrak", "Jharsuguda", "Jajpur", "Keonjhar", "Koraput", "Sundargarh", "Angul", "Dhenkanal", "Nayagarh", "Titlagarh", "Phulbani", "Jagatsinghpur"],

  "Punjab": ["Amritsar", "Ludhiana", "Jalandhar", "Patiala", "Bathinda", "Mohali", "Hoshiarpur", "Pathankot", "Moga", "Firozpur", "Kapurthala", "Tarn Taran", "Rajpura", "Sangrur", "Barnala", "Faridkot", "Khanna", "Batala", "Nawanshahr", "Fazilka"],

  "Rajasthan": ["Jaipur", "Udaipur", "Jodhpur", "Kota", "Bikaner", "Ajmer", "Alwar", "Bharatpur", "Sikar", "Bhilwara", "Tonk", "Chittorgarh", "Barmer", "Pali", "Nagaur", "Hanumangarh", "Sawai Madhopur", "Dausa", "Dungarpur", "Jhalawar"],

  "Sikkim": ["Gangtok", "Namchi", "Gyalshing", "Mangan", "Ravangla", "Pakyong", "Soreng", "Yuksom", "Singtam", "Namthang", "Rongli", "Jorethang", "Dentam", "Pemayangtse", "Tarku", "Yangang", "Zuluk", "Lachung", "Lachen", "Phodong"],

  "Tamil Nadu": ["Chennai", "Coimbatore", "Madurai", "Tiruchirappalli", "Salem", "Tirunelveli", "Erode", "Vellore", "Thanjavur", "Dindigul", "Nagercoil", "Kanchipuram", "Thiruvallur", "Cuddalore", "Nagapattinam", "Villupuram", "Karur", "Namakkal", "Sivakasi", "Tiruppur"],

  "Telangana": ["Hyderabad", "Warangal", "Nizamabad", "Khammam", "Karimnagar", "Mahbubnagar", "Suryapet", "Ramagundam", "Jagtial", "Mancherial", "Adilabad", "Medak", "Kothagudem", "Bhadradri", "Ramagundam", "Jagitial", "Nalgonda", "Mulugu", "Wanaparthy", "Nagarkurnool"],

  "Tripura": ["Agartala", "Udaipur", "Kailasahar", "Dharmanagar", "Belonia", "Ambassa", "Dhalai", "Khowai", "Teliamura", "Jirania", "Sabroom", "Gomati", "Garia", "Mohanpur", "Panisagar", "Sabrum", "Kamalanagar", "Lalcherra", "Kumarghat", "Santirbazar"],

  "Uttar Pradesh": ["Lucknow", "Kanpur", "Noida", "Agra", "Varanasi", "Ghaziabad", "Meerut", "Allahabad", "Bareilly", "Aligarh", "Moradabad", "Rampur", "Mathura", "Bhadohi", "Firozabad", "Saharanpur", "Muzaffarnagar", "Shahjahanpur", "Etawah", "Azamgarh"],

  "Uttarakhand": ["Dehradun", "Haridwar", "Nainital", "Rishikesh", "Haldwani", "Kashipur", "Pantnagar", "Almora", "Pithoragarh", "Bageshwar", "Rudrapur", "Roorkee", "Chamoli", "Tehri", "Udham Singh Nagar", "Champawat", "Pauri", "Nainital", "Khatima", "Lansdowne"],

  "West Bengal": ["Kolkata", "Howrah", "Durgapur", "Siliguri", "Asansol", "Kharagpur", "Bardhaman", "Haldia", "Berhampore", "Jalpaiguri", "Alipurduar", "Raiganj", "Malda", "Bankura", "Balurghat", "Kanchrapara", "Santipur", "Habra", "Krishnanagar", "Shantiniketan"],

  // Union Territories

  "Andaman and Nicobar Islands": ["Port Blair", "Havelock Island", "Neil Island", "Car Nicobar", "Rangat", "Little Andaman", "Diglipur", "Mayabunder", "Campbell Bay", "Nancowry", "Kamorta", "Chowra", "Teressa", "Barren Island", "Great Nicobar", "South Andaman", "North Andaman", "Middle Andaman", "Baratang", "Little Nicobar"],

  "Chandigarh": ["Chandigarh"],

  "Dadra and Nagar Haveli and Daman and Diu": ["Daman", "Silvassa", "Dadra", "Diu", "Amal", "Moti Daman", "Nani Daman", "Naroli", "Vasona", "Kanathur", "Moti Dadra", "Nani Dadra", "Maghval", "Kadipani", "Mendarda", "Kachigam", "Rajpipla", "Kelve Road", "Asheri", "Vapi"],

  "Delhi": ["New Delhi", "Dwarka", "Rohini", "Karol Bagh", "Connaught Place", "Lajpat Nagar", "Saket", "Pitampura", "Janakpuri", "Shahdara", "Vasant Kunj", "South Extension", "Chandni Chowk", "Civil Lines", "Model Town", "Narela", "Paharganj", "Greater Kailash", "Punjabi Bagh", "Mayur Vihar"],

  "Jammu and Kashmir": ["Srinagar", "Jammu", "Anantnag", "Baramulla", "Udhampur", "Kathua", "Shopian", "Kulgam", "Pulwama", "Rajouri", "Kupwara", "Reasi", "Doda", "Kishtwar", "Poonch", "Bandipora", "Ganderbal", "Samba", "Ramban", "Budgam"],

  "Ladakh": ["Leh", "Kargil", "Diskit", "Nubra", "Turtuk", "Zanskar", "Changthang", "Padum", "Khaltsi", "Durbuk", "Nyoma", "Sakti", "Choglamsar", "Mahe", "Hanle", "Sumur", "Tingmosgang", "Stakna", "Nimo", "Basgo"],

  "Lakshadweep": ["Kavaratti", "Agatti", "Minicoy", "Kadmat", "Amini", "Bitra", "Chetlat", "Andrott", "Kalpeni", "Bangaram"],

  "Puducherry": ["Puducherry", "Karaikal", "Mahe", "Yanam", "Bahour", "Villianur", "Ozhukarai", "Thirunallar", "Nettapakkam", "Mannadipet", "Nayapakkam", "Villianur", "Nettapakkam", "Ariyankuppam", "Nainapakkam", "Thirukkanur", "Neravy", "T.R. Pattinam", "Nettapakkam", "Tirumalairayanpattinam"]
};


  const stateDropdown = document.getElementById("state-dropdown");
  const cityDropdown = document.getElementById("city-dropdown");

  // Populate states on load
  window.addEventListener("DOMContentLoaded", () => {
    Object.keys(indiaStatesCities).sort().forEach(state => {
      const option = document.createElement("option");
      option.value = state;
      option.textContent = state;
      stateDropdown.appendChild(option);
    });
  });

  // On state change populate cities
  stateDropdown.addEventListener("change", () => {
    const cities = indiaStatesCities[stateDropdown.value] || [];
    cityDropdown.innerHTML = `<option value="" disabled selected>üèòÔ∏è Select City</option>`;
    cities.forEach(city => {
      const option = document.createElement("option");
      option.value = city;
      option.textContent = city;
      cityDropdown.appendChild(option);
    });
    cityDropdown.disabled = false;
  });


  </script>
</body>
</html>
